<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PRO –§–µ—Ä–º–∞</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: #f5f7fa;
    color: #333;
}
header {
    background: linear-gradient(90deg,#4CAF50,#2e7d32);
    color: white;
    padding: 15px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
header .logo { font-size: 22px; font-weight: bold; }
nav a {
    color: white;
    margin-left: 20px;
    text-decoration: none;
    font-weight: 600;
}
nav a:hover { text-decoration: underline; }

.container {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(350px,1fr));
    gap: 20px;
    padding: 20px;
}

.card {
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    padding: 20px;
}
h2 { margin-top: 0; color: #2e7d32; }

.kpi-container {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}
.kpi {
    background: #e8f5e9;
    flex: 1;
    min-width: 120px;
    text-align: center;
    border-radius: 10px;
    padding: 15px;
}
.kpi .value { font-size: 22px; font-weight: bold; }

.animal-card {
    display: flex;
    gap: 10px;
    align-items: center;
    padding: 10px;
    border: 1px solid #eee;
    border-radius: 10px;
    margin-bottom: 10px;
}
.animal-card img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
}

.progress-container {
    background: #eee;
    border-radius: 10px;
    overflow: hidden;
}
.progress-bar {
    height: 12px;
    background: linear-gradient(90deg,#4CAF50,#81C784);
}

.status.green { color: #4CAF50; }
.status.red { color: #FF3D00; }

#map {
    height: 350px;
    border-radius: 15px;
}

.temp-value {
    font-size: 24px;
    font-weight: bold;
    color: #2e7d32;
}
</style>
</head>

<body>

<header>
    <div class="logo">üêÑ  PRO Farm Dashboard</div>
    <nav>
        <a href="#kpi">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        <a href="#finance">–§–∏–Ω–∞–Ω—Å—ã</a>
        <a href="#mapsection">GPS</a>
        <a href="#temperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</a>
    </nav>
</header>

<div class="container">

<div class="card" id="kpi">
<h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
<div class="kpi-container">
<div class="kpi">–ñ–∏–≤–æ—Ç–Ω—ã–µ<div class="value" id="totalAnimals">0</div></div>
<div class="kpi">–ó–¥–æ—Ä–æ–≤—ã–µ<div class="value" id="healthyAnimals">0</div></div>
<div class="kpi">–ë–æ–ª—å–Ω—ã–µ<div class="value" id="sickAnimals">0</div></div>
<div class="kpi">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞<div class="value" id="avgTemp">0¬∞C</div></div>
</div>
<div id="animalList"></div>
</div>

<div class="card" id="finance">
<h2>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç</h2>
<canvas id="financeChart"></canvas>
</div>

<div class="card" id="mapsection">
<h2>GPS-–º–µ—Ç–∫–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö</h2>
<div id="map"></div>
</div>

<div class="card" id="temperature">
<h2>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</h2>
<p>–°–µ–π—á–∞—Å: <span id="temp" class="temp-value">20</span> ¬∞C</p>
<canvas id="tempChart"></canvas>
</div>

</div>

<script>
const animals = [
    {name:"–ö–æ—Ä–æ–≤–∞ 1", health:90, status:"–ó–¥–æ—Ä–æ–≤–∞", coords:[51.1694,71.4491]},
    {name:"–ö–æ–∑–∞ 2", health:50, status:"–ë–æ–ª–µ–µ—Ç", coords:[43.2220,76.8512]},
    {name:"–ö—É—Ä–∏—Ü–∞ 3", health:80, status:"–ó–¥–æ—Ä–æ–≤–∞", coords:[53.2194,63.6316]},
    {name:"–°–≤–∏–Ω—å—è 4", health:70, status:"–ó–¥–æ—Ä–æ–≤–∞", coords:[50.2839,57.1667]}
];

function updateStats() {
    document.getElementById('totalAnimals').textContent = animals.length;
    document.getElementById('healthyAnimals').textContent =
        animals.filter(a => a.status === "–ó–¥–æ—Ä–æ–≤–∞").length;
    document.getElementById('sickAnimals').textContent =
        animals.filter(a => a.status !== "–ó–¥–æ—Ä–æ–≤–∞").length;
}

updateStats();

// Finance chart
new Chart(document.getElementById('financeChart'), {
    type: 'bar',
    data: {
        labels: ['–Ø–Ω–≤','–§–µ–≤','–ú–∞—Ä','–ê–ø—Ä','–ú–∞–π','–ò—é–Ω'],
        datasets: [
            {label:'–î–æ—Ö–æ–¥', data:[120,135,110,150,140,160], backgroundColor:'#4CAF50'},
            {label:'–†–∞—Å—Ö–æ–¥', data:[70,80,60,90,85,95], backgroundColor:'#FF3D00'}
        ]
    }
});

// Map
const map = L.map('map').setView([48.0196,66.9237],5);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

animals.forEach(a => {
    L.marker(a.coords)
        .addTo(map)
        .bindPopup(`<strong>${a.name}</strong><br>${a.status}`);
});
</script>

</body>
</html>
